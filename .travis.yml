language: java

jdk:
  - openjdk11

services:
  - docker

addons:
  sonarcloud:
    organization: "francobobadilla"
    token: ad5a121aaef2acbe16431683b60dc9daead13e26

script:
  - cd server
  - mvn clean package spring-boot:repackage
  - docker build -t payroll-server .
  - docker run -e "PORT=8080" -p 8080:8080 payroll-server
